TO DO UP NEXT:

- update subtitles in entire mission to include if scout says them with if statements 
    * leftbehind is next up.
    - convo if pilot or pow die
    - interaction between scout and marcinko so players dont think its a bug if there was nothing


TO LEARN:
- add extensions to vscode
    - function auto add. check your discord.
- how to use rpt files
    - you would ctrl f your diag line, such as "First Unit"
    - A good general one is "error in" which will pick up all the SQF errors so you can read them at leisure.
        But if you're not using diag_log already then they're probably at the bottom.
    - As I restart scenarios a lot for test purpose, I always try to find "Starting mission" to check for script error since the mission began
    - you can also use a watcher extension that will follow the lowest line in the file as they are created
- how to create a mission with hemtt. consult ace discord.


BUGS FROM LATEST PLAYTHROUGH:


DEDICATED SERVER TESTING:
- worked on some triggers that let the player know if they are boating in the wrong direction.
- mercinko should have no questions left. but the way its scripted looks like they still will be there.
- fixed issue where the POW was saying SOG voice lines because I changed his object type and forgot to update it in the restrict voices module
- test infil convo for working on dedicated server.
- Test if players still have holdAction after respawn. there is some question as to if they persist.
- Test if skip to infil needs to be remoteexeced. weather and time might not change. you can copy some code from radiohq.sqf


TO DO MASTER LIST:
    HIGH PRIORITY:
        - go through all triggers before the infil spot and look for deletevehicle. need to move these to the infil spot because if players choose skip to
            infil then those objects wont be deleted.
        - I think I have to add holdActions to the SAM site stuff for parity. How else do you explain to players why you can use holdAction on the cache
            but not the SAM?
        - entire SFX pass for whole project for addactions and hold actions and whatever else you can think of (do this before voices so you can 
        learn the program and workflow)
        - record voice actors (litterally the last thing youll do, even after the medium/low priority stuff)
        - rework deleting obj from inside huts when they are destroyed
            - try deleting nearby objects
            - try deleting objects in a mask area.
    MEDIUM PRIORITY:
        - add a killed EH that checks if the general is in his car and TPs him out so players can still progress.
        - figure out how you want AI multiplayer to function in your misison:
            - option 1: disable AI. simple?
            - option 2: leave as is but if players leave AI on and dont take group leader then itll be jank.
            - option 3: use select leader and leader changed EH to avoid AI taking control of the AI (what happens if slot one dies and respoawns
                does he get control back?) or some solution that always passes AI to a player
        - there is a locker in lumphat that keeps clipping into the buildings.
        - literally last thing you do maybe because the misisons is always evolving but you need to recheck how the mission performance ratings are working.
            some stuff might have broken.
            - i added a failure state for proceed to infil spot
        - picture pass for continuity since there have been changes. includes making pics for death/victory screens
        - fill out the prison with prisoners, equipment etc and put hide on it until extract
        - add achievements. (perfect mission, 0/10 mission, never spotted, etc)
        - add game master slot
        - beginning jeep needs to move foruther away from players
    LOW PRIORITY:
        - the sam site targets player which could lead to the pilot not getting shot down. needs more testing to see how often that would happen.
        - if you put on an enemy back pack you get to know if you are being tracked and what the state of things are
        - BIS_fnc_ambientAnimCombat and another function that does idle stuff in start area.
        - disable the squad radio cahtter. Keep for now testing because it does help during that. Chance that this breaks something though.
        - adjust extract heli height cause its glitching
        - have pilots, pow, downed pilot exit heli at missons end
        - have npcs welcome you back at mission end
        - have npc walk to end of pier and salute as boat drives away.
        - if people think there is too much talking then have an option to reduce it for SP/MP
        - mission fail if friendly fire
        - see if smoke can be detected in area marker instead of player
        - if players use radio trackers start to simulate radio direction finding of the enemy. then you add hand signals module.
        - if players switch to another unit after getting near the POW. Error, unknown variable.
        - I have this condition, which fires if all alive players are in a helicopter: Is there a way to filter out downed players though? 
            I want it to fire even if there is downed player outside the heli (apparently they count as alive)


TOUGH BUGS:
- try addvehicle command to no kick players out of vehicle (not verified since waypoints rework of helicopter extraction)
- scout wont get in the stab
- couldnt access arsenal at cache one time.
- Some sub tasks are out of there main categories. Resolves on mission restart.
- couldn't get in boat until other players exited
- players dont always end up in boat with skip to ingress

    JIP ISSUES:
        - if a player leaves and he had an ai in his group then no one else can control the AI. The AI becomes invincible. maybe the enable damage reverts? I think
        so because this doesnt happen with the POW
        - player may not have access to their loadout from the stab if they have scuba equipped and leave and rejoin.
        - some combination of JIP players coming and going cause some tasks to cycle through when a player joins. Does not seem to affect the sync of the tasks 
        though.
        - If a player leaves and his AI is killed its loadout reverts. Face still working tho.


BEFORE YOU PUBLISH:
read description.ext on wiki to polish load screens, etc
- add mission steam main pic (can be any size but must be square. set 1440x1440 in gimp. use square overlay in splendid camera.)
- two more screen shots. approching village and sinlge file jumngle walk space 10 meters apart.
- add autosaves for SP


TO EXPORT FOR PLAY TESTING ON DEDICATED SERVER:
- Change time to night (00:10)
- adjust respawn settings (on custom position and choose the spawn 60secs1)
- enable intro in init.sqf
- make sure player groups call sign is Rankin and all at the start area
- enable damage for command and scout unit
- move pics files back


FINISHED:
Reworked new condition for RTB and how arma deals with repawns if a player dies then the heli takes off.
    - The condition correctly checks to make sure all players are in the heli, minus downed players. 
    - Players dead and at the respawn screen can spawn back into the heli.
    - Injured, dead, or downed players will not block the heicopter from leaving.
- Reworked the heli extraction for the third time. This is the best one yet: 
    Find a solution: Heli will leave LZ and land far away if an object is on the coordinate position.
        - Calling the landing outside of 5 meters from the coordinates seems safe.
        - So far all objects on the LZ will trigger the pilot to land elsewhere, no matter how small or flat. Except helipads.
        - The function seems to constantly monitor for obstructions. I can run under at the last moment then it will fly off.
            - Tried to use an invisible helipad but didnt help.
            - Going to try some ideas I posted in discord. If that doesn't work consult pig's code for helis.
            - I don't think that monitoring the LZ and moving the LZ will work because in testing it dosen't seem responsive enough. Still better
                than nothing as a fail safe though. At this point the easiest would be to give player feedback. Have pilot tell the players to
                clear the LZ if they are within 5 meters of the landing point. Also do a trigger for the former.
            - I've been testing the landAt command. The nice thing is it seems like it will force a landing if something blocks its path but 
                it wont process the command successfully if the path is blocked on execution. Maybe I could do a continual check to wait until
                the path is clear then execute the command. After that we should be clear.
            - Progress is okay so far. figure out how to keep engine on. add convo for blocked LZ. adjust sleep time to give players more time.
                - changed the condition for landing to check the return value. If false then moves the helipad 5 meters any direction until landing.
                    - had to do it this way cause apparently even a explosion decal will block a landing.
            - have the heli landing fine. now to get it to base.
            - got it going back to base now. need to do more play testing with fly height and clean up unused stuff in the editor.
            - I added convos if the lz was blocked and unblocked. polished code and tried to get it to break. I think its as good as it is gonna
                be at my current skill level.
                - polished lz blocked systemChat to account for more situations.
- reworked the plant bombs on cache mechanic. changed to holdAction and uses actionIDs to remove duplicates. added more convo lines.
    - can break it by blow up cache with rockets.
    - tested various situations with death a respawn and multiple players placing them.
- changed sabatague icon to destroy and change holdAction from CBA to script.
- reworked how the downed pilot is shot down and added the possibility that the players can destroy the samsite before it can shoot down the plane.
- figured out why control z wasnt working
- reworked: search lumphat should pop-up on infil not mission start
- reworked time bomb on stab to be holdAction and made it so you can only place it on the boat from the outside.
- made some trigger areas with subtitles if the STAB goes in the wrong direction
- Chose a design choice regarding the Infil Task. On one hand, I want objectives to be open ended for players to determine how to complete them. 
    But on the other hand if I want to "tell a story" its better to have very specific things happen, like a specific infil spot. 
    I need to decide what kind of misison do I want to make. Or try a blend of the two.
    Decision: I love the idea of player choice and having the chance to make mistakes without a hard fail state. I also love a very tight story and
    immersive mission. If I plan for both then I can have the best of both worlds. That way on my single-player play through, I get to enact my prefered
    "story" and when other players play then they can have more freedom to make mistakes. Therefore we will go with option 1.
    - option 1: Players allowed to miss the infil spot. If they get spotted by AI then all the tasks that would have popped up from 
        the infil task, will now pop up. If they dont get spotted then when they reach Lumphat tasks will need to pop up. This might require them to back
        track or abandon the destroy STAB task but I guess thats what they get for not paying attention.
    - option 2: End mission if they proceed too far upriver. But this wont stop players entering too early.
    - option 3: End the mission if players reach Lumphat without triggering infil task. 
- Reduced the chance of the mission breaking if players skirt the water and avoid the patrols then the situation can break the mission. 
    the troop transports drive toward the players. crash on the bridge when they try to return to load up and the general cant flee right.
    implemented all options below.
    option 1: make it so the players have a harder time getting to that spot without triggering the fail task
    option 2: move the reinforcement trucks back further where they wont get shot.
    option 3: make another patrol on opposite shore to spot players and fail the task of remain undetected
- completely reworked the way that side tasks are picked and completed, to allow for completion before pickup. i added functions for the lines so 
the hold action is more readable. added more voice lines for certain conditions
- deleted rankin easter egg
- Emptied the pows inventroy
- fixed bug, all patrols spotted player while he was far away. Maybe AI shares info with each other? Removed event handler fromm all patrols after first use.
- fixed fog not clearing after 5 minutes at the infil
- changed hold action icons for equip scuba gear to better fit visual continuity
- changed POW type so it says driver to fit the narritive better
- adjusted codex for clarity.
- fixed time of day and weather not changing on dedicated server. Had to remoteExec them to get them to work.
- reworked the patrol boat tasks in the beginning of the mission to flow better and make more sense.
- adjusted the order and timings of tasks created at the infil spot
- adjusted task wording for clarity (remain undeteced and kill the HVT)
- fixed issue where "remain undetected" task wouldn't pop up at the correct time. The variable was tied to a 60sec trigger. Had to create a separate trigger so the general and troop transport could
leave at separate times. this also helps with vehicle colisions since they travel the same road.
- polished spotted consequences. How it works currently: If patrol 1-4 sees player then turn on loud speakers and send troop 
transport to patrol road: (PlayersSpotted var). If OPFOR in set area sees player turn on tracker and sends troop transport to lumphat after players fined
one side mission. Once you search the general no reinforcements come. General flees after 60sec (var playersspotted) if any patrol sees players.
If the patrols see the boat because it was destroyed then general flees after 60 secs.
- Implemented new search for intel task in lumphat. Now there are several items with randomized locations with randomize chance of finding a task on search.
- converted to new heli extract
-JIP intro type text
-JIP skip to ingress removed near mission start
-JIP skip to ingress
-JIP wait for naval patrol time jump
-JIP scuba gear available
-JIP time bombs
- update briefing screen to current point
- update tasks to current point
- new helo extraction with addactions
- end mission addaction
- ambient voices for blurfor team disabled
- 3 questions for captain added in beginning
- AI and players keep loadoutgear and faces (not JIP friendly)
- optimization pass (most objects have dynamic sim, some got changed to simple obj, but the biggest factor for performance is number of AI and draw distance)
- fade in on mission start
- added new start task 
- built up starting area
- INFINITE SMOKE!!
- added lines for end mission briefing
- update all previous tasks to be completed for skip to ingress.
- added randomized MP chatter
- make mission fail for helicopter dies or all players dead
- added hold actions for skip and rtb and end mission.
- added hold action for wait for patrol and scuba tasks.
- touched up side missions
- POW task should be good. all tested except helicopter and exfil
- rescue pilot task should be good. needs testing and esp at extract
- adjusted naval wait triggers so that you can now fail after passing.
- added fail mission trigger if stab is destroyed before reaching infil point
- added exfil trigger that checks for players in the trigger area and alive and in the extract helicopter
- added pilot trigger that checks for pilot back at base and completes task
- added pow trigger that checks for pilot back at base and completes task
- add side chat to pow heal. "its no use. My leg is ruined". in the future randomize 3 responses.
- moved time bombs to IPL
- adjusted skipwaypoint for troop reinforcements after general is killed.
- updates file in lumphat so they dont clip thorugh objects.
- placed optional tasks on bottom
- added fail task state for extract task and update PRI and SEC main tasks to reflect it
- adjusted size of mask area for smoke lz task so it fires if players arent exaclty on the right spot. gives more leeway
- randomize cloud cover at mission start
- add camo to unit lobby description
- add different smoke grenades to loadouts
- update all dead to be tied to spawn area trigger. that way it cant complete on spawn in (needs testing)
- add sidechat if general escapes
- disable heli in starting area
- move intro questions to be compatible with skip to infil
- add sachels to boat
- fix exfil link in execution
- created history tab and finalized the subtabs with info and pictures.
- randomize blind spawns with AI
- create rough draft script of lines with chatgpt
- work on new search for intel system.
- add subtitle for when all intel has been found. "looks like weve picked this place dry"
- added scout versions of quips in lumphat search task
